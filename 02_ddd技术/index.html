<!doctype html><html lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>02_DDD 技术篇 - Yiwenup - 持续沉淀</title><meta name=Description content="Yiwenup - 持续沉淀"><meta property="og:title" content="02_DDD 技术篇"><meta property="og:description" content="一、技术组件概览 1.1 技术选型 Spring Boot：服务搭建脚手架 Spring Cloud：微服务体系一站式开发 Axon：CQRS 以及事件机制的支持 1.2 技术实现模型 单体"><meta property="og:type" content="article"><meta property="og:url" content="http://www.yiwenup.cloud/02_ddd%E6%8A%80%E6%9C%AF/"><meta property="og:image" content="http://www.yiwenup.cloud/logo.png"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-06-07T19:12:32+08:00"><meta property="article:modified_time" content="2022-06-07T19:12:32+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://www.yiwenup.cloud/logo.png"><meta name=twitter:title content="02_DDD 技术篇"><meta name=twitter:description content="一、技术组件概览 1.1 技术选型 Spring Boot：服务搭建脚手架 Spring Cloud：微服务体系一站式开发 Axon：CQRS 以及事件机制的支持 1.2 技术实现模型 单体"><meta name=application-name content="Yiwenup - 持续沉淀"><meta name=apple-mobile-web-app-title content="Yiwenup - 持续沉淀"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=http://www.yiwenup.cloud/02_ddd%E6%8A%80%E6%9C%AF/><link rel=prev href=http://www.yiwenup.cloud/mybatis/><link rel=next href=http://www.yiwenup.cloud/01_ddd%E7%90%86%E8%AE%BA/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"02_DDD 技术篇","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/www.yiwenup.cloud\/02_ddd%E6%8A%80%E6%9C%AF\/"},"image":["http:\/\/www.yiwenup.cloud\/images\/Apple-Devices-Preview.png"],"genre":"posts","keywords":"DDD, 微服务, 业务建模","wordcount":1196,"url":"http:\/\/www.yiwenup.cloud\/02_ddd%E6%8A%80%E6%9C%AF\/","datePublished":"2022-06-07T19:12:32+08:00","dateModified":"2022-06-07T19:12:32+08:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"xxxx","logo":{"@type":"ImageObject","url":"http:\/\/www.yiwenup.cloud\/images\/avatar.png","width":320,"height":320}},"author":{"@type":"Person","name":"yiwenup"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Yiwenup - 持续沉淀"><span class=header-title-pre><i class='fas fa-piggy-bank'></i></span> Yiwen Up <span class=header-title-post><i class='fas fa-leaf'></i></span></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/categories/><i class='fas fa-folder-open'></i> 分类 </a><a class=menu-item href=/tags/><i class='fas fa-tags fa-fw'></i> 标签 </a><a class=menu-item href=/posts/><i class='fas fa-book'></i> 所有文章 </a><a class=menu-item href=/></a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Yiwenup - 持续沉淀"><span class=header-title-pre><i class='fas fa-piggy-bank'></i></span> Yiwen Up <span class=header-title-post><i class='fas fa-leaf'></i></span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/categories/ title><i class='fas fa-folder-open'></i>分类</a><a class=menu-item href=/tags/ title><i class='fas fa-tags fa-fw'></i>标签</a><a class=menu-item href=/posts/ title><i class='fas fa-book'></i>所有文章</a><a class=menu-item href=/ title></a><a href=javascript:void(0); class="menu-item theme-switch" title=切换主题>
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>目录</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">02_DDD 技术篇</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-feather-alt"></i></a></span>&nbsp;<span class=post-category>收录于 <a href=/categories/ddd/><i class="far fa-folder fa-fw"></i>DDD</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2022-06-07>2022-06-07</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 1196 字&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 3 分钟&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>目录</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><ul><li><a href=#一技术组件概览>一、技术组件概览</a><ul><li><a href=#11-技术选型>1.1 技术选型</a></li><li><a href=#12-技术实现模型>1.2 技术实现模型</a></li></ul></li><li><a href=#二服务模型介绍>二、服务模型介绍</a><ul><li><a href=#21-单体模型>2.1 单体模型</a></li><li><a href=#22-系统集成模型>2.2 系统集成模型</a></li><li><a href=#23-微服务模型>2.3 微服务模型</a></li><li><a href=#24-消息通信模型>2.4 消息通信模型</a></li></ul></li></ul></li></ul></nav></div></div><div class=content id=content><h2 id=一技术组件概览>一、技术组件概览</h2><h3 id=11-技术选型>1.1 技术选型</h3><ul><li>Spring Boot：服务搭建脚手架</li><li>Spring Cloud：微服务体系一站式开发</li><li>Axon：CQRS 以及事件机制的支持</li></ul><h3 id=12-技术实现模型>1.2 技术实现模型</h3><ul><li>单体模型</li><li>系统集成模型</li><li>微服务模型</li><li>消息通信模型</li></ul><h2 id=二服务模型介绍>二、服务模型介绍</h2><h3 id=21-单体模型>2.1 单体模型</h3><p>在分布式和微服务架构成为主流的开发模式之前，单体（Monolithic）系统一直是软件系统的主要表现形式。单体系统的结构通常都比较简单，在代码逻辑上包括数据访问、业务处理、Web 访问等功能模块，而在物理结构上就是一个一体化的部署包。单体系统还有一个显著特征，即一个系统通常对应着一个数据库。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/image-20220607161619212.png data-srcset="../images/image-20220607161619212.png, ../images/image-20220607161619212.png 1.5x, ../images/image-20220607161619212.png 2x" data-sizes=auto alt=../images/image-20220607161619212.png title=image-20220607161619212></p><p>单体模型的优势是<strong>简单性</strong>，但我们认为它<strong>并不适合构建 DDD 系统</strong>。究其原因，在于互联网应用在业务体系发展的同时常常还伴随着不断的变化，系统的用户体量和性能要求也不是以往传统行业所能够相比的。软件系统背后所承载的业务功能复杂度以及快速迭代的节奏，已远远超出了单体系统的设计和开发要求。</p><p>DDD 通过子域和限界上下文把业务系统的领域和边界做了合理划分，其目的正是为了应对系统演进过程中的复杂性。而在单体系统中，并没有根据业务领域对代码结构进行物理上的合理拆分，导致对系统的任何一处修改都会影响到整个系统的构建和发布。</p><h3 id=22-系统集成模型>2.2 系统集成模型</h3><p>既然单体实现模型存在明显的缺陷，我们就应该把业务系统进行合理拆分，并在物理上划清边界。这时候，根据限界上下文来拆分服务是最常见的做法。当限界上下文被拆分成一个个独立的物理服务之后，就需要完成这些服务之间的有效集成，我们把这种实现模型称为<strong>系统集成模型</strong>。</p><p>在系统集成模式中，我们可以通过各个服务暴露的 HTTP 端点并使用 REST API 来完成服务与服务之间的远程调用。</p><p>在系统集成的实现过程中，我们还可以引入一系列辅助性的功能组件。例如，想要基于不同条件对数据进行筛选，那么可以引入过滤器（Filter）；关于数据如何到达目标应用系统，可以使用路由器（Router）；而关于如何在异构系统之间完成数据的转换和适配，则可以引入转换器（Transformer）。</p><p>这些过滤、路由、转换等功能构成了系统集成的基本需求，在实现上这些组件属于应用程序的一部分，但应用程序应该与系统集成组件进行解耦，这时候就需要引入专门实现系统集成功能的组件，即端点（Endpoint）。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/image-20220607162557980.png data-srcset="../images/image-20220607162557980.png, ../images/image-20220607162557980.png 1.5x, ../images/image-20220607162557980.png 2x" data-sizes=auto alt=../images/image-20220607162557980.png title=image-20220607162557980></p><h3 id=23-微服务模型>2.3 微服务模型</h3><p>微服务架构本质上也是一种系统集成模型，但提供了一些额外的技术组件，从而使得系统集成过程变得更加简单高效。在微服务架构中，各个限界上下文同样被拆分成独立的微服务，它们之间通过服务的<strong>注册（Registration）和发现（Discovery）</strong> 实现相互调用。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=../images/image-20220607163325301.png data-srcset="../images/image-20220607163325301.png, ../images/image-20220607163325301.png 1.5x, ../images/image-20220607163325301.png 2x" data-sizes=auto alt=../images/image-20220607163325301.png title=image-20220607163325301></p><p>在微服务架构中，提供服务注册和发现机制的是注册中心。注册中心可以分为客户端和服务器两大组件，其中客户端组件嵌入在服务提供者和消费者中。服务消费者基于注册中心中所存储的服务实例信息向服务提供者发起远程调用。</p><h3 id=24-消息通信模型>2.4 消息通信模型</h3><p>事件驱动架构的实现方式就是<strong>消息通信机制</strong>。消息通信机制能够降低服务之间的耦合度。</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>更新于 2022-06-07</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/ddd/>DDD</a>,&nbsp;<a href=/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1/>微服务</a>,&nbsp;<a href=/tags/%E4%B8%9A%E5%8A%A1%E5%BB%BA%E6%A8%A1/>业务建模</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>返回</a></span>&nbsp;|&nbsp;<span><a href=/>主页</a></span></section></div><div class=post-nav><a href=/mybatis/ class=prev rel=prev title=Mybatis><i class="fas fa-angle-left fa-fw"></i>Mybatis</a>
<a href=/01_ddd%E7%90%86%E8%AE%BA/ class=next rel=next title="01_DDD 理论篇">01_DDD 理论篇<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2021 - 2023</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>yiwenup</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=回到顶部><i class="fas fa-arrow-up fa-fw"></i>
</a><a href=# id=view-comments class=fixed-button title=查看评论><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/css/lightgallery.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/twemoji@13.0.0/dist/twemoji.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lightgallery.js@1.2.0/dist/js/lightgallery.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lg-thumbnail.js@1.2.0/dist/lg-thumbnail.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lg-zoom.js@1.2.0/dist/lg-zoom.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/copy-tex.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/mhchem.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"复制到剪贴板",maxShownLines:0},comment:{},lightGallery:{actualSize:!1,exThumbImage:"data-thumbnail",hideBarsDelay:2e3,selector:".lightgallery",speed:400,thumbContHeight:80,thumbWidth:80,thumbnail:!0},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},twemoji:!0}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>